<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.6/css/responsive.bootstrap4.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pridi&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.0/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://code.iconify.design/1/1.0.6/iconify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.6/js/dataTables.responsive.min.js"></script>
    <link rel="stylesheet" href="../public/style/adminmain.css">
</head>
<script>
    $(document).ready(function () {
        var rowID;
        var material = [{
            "number": "1",
            "id": "101000246",
            "list": "ซองจดหมายขาว ขนาด DL",
            "numreq": "10",
            "unit": "ด้าม",
            "balance": "5",
            "amount": "0"
        }, {
            "number": "2",
            "id": "101000249",
            "list": "ปากกาไวท์บอร์ด สีแดง",
            "numreq": "10",
            "unit": "ด้าม",
            "balance": "5",
            "amount": "0"
        }, {
            "number": "3",
            "id": "101000255",
            "list": "ลวดเสียบกระดาษ (Paper Clip)",
            "numreq": "10",
            "unit": "ด้าม",
            "balance": "5",
            "amount": "0"
        }, {
            "number": "4",
            "id": "101000359",
            "list": "ไม้บรรทัดเหล็ก 1 ฟุต",
            "numreq": "10",
            "unit": "ด้าม",
            "balance": "5",
            "amount": "0"
        }, {
            "number": "5",
            "id": "101000675",
            "list": "ตรายาง - วันที่ตัวเลข",
            "numreq": "10",
            "unit": "ด้าม",
            "balance": "5",
            "amount": "0"
        }];
        var table = $("#materialTable").DataTable({
            responsive: true,       //for responsive column display
            deferRender: true,      //if large data, use this option

            data: material,
            columns: [
                { data: "number", title: "ลำดับ" },
                { data: "id", title: "รหัสวัสดุ" },
                { data: "list", title: "รายการ" },
                { data: "numreq", title: "จำนวนเบิก" },
                { data: "unit", title: "หน่วยนับ" },
                { data: "balance", title: "จำนวนคงเหลือ" },
                { data: "amount", title: "จำนวนจ่าย" }
            ],
            columnDefs: [
                // make the last column align right, also target: "_all"
                { "className": "dt-center", "targets": 5 }
            ]
        });

        // Sidebar toggle behavior
        $(function () {
        // Sidebar toggle behavior
        $('#sidebarCollapse').on('click', function () {
            $('#sidebar, #content').toggleClass('active');
        });
    });

        //ปุ่มอนุมัติ
        $("#approve").click(function () {
            //alert( "test" );
            location.replace("detailsuccess.html");
        });
        //ปุ่มแก้ไข
        $("#modify").click(function () {
            //alert( "test" );
            $("#modifysave").click(function () {
                location.reload("detailreq.html");
            });
        });
        //ปุ่มไม่อนุมัติ
        $("#disapprove").click(function () {
            //alert( "test" );
            $("#disapproveysave").click(function () {
                location.replace("adminmain.html");
            });
        });

    });

</script>

<body>
    <nav class="navbar navbar-expand-sm navbar-dark bgnavbar fixed-top">
        <a class="navbar-brand" href="#"><img src="../public/img/logo.png" width="40px" height="40px">
        </a>
        <h5 class="text-light my-auto brand-text" href="#">ระบบจัดการวัสดุสำนักงาน สำนักวิชาเทคโนโลยีสารสนเทศ</h5>
        <text class="my-auto ml-auto text-light brand-text"><span class="iconify text-light" data-icon="bx:bxs-user-circle" data-inline="false" style="color:black"
                data-width="30px" data-height="30px"></span>
            นางสาวแอดมิน สมหญิง</text>
        <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#collapsibleNavId"
            aria-controls="collapsibleNavId" aria-expanded="false" aria-label="Toggle navigation" id="sidebarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>

    </nav>
    <div class="vertical-nav bg-white mt-2" id="sidebar">
        <div class="vertical-menu">
            <ul class="nav flex-column bg-white mt-4">
                <div id="text-brand">
                    <li class="text-center">
                        <h5 class="text-dark" href="#">ระบบจัดการวัสดุสำนักงาน สำนักวิชาเทคโนโลยีสารสนเทศ</h5>
                    </li>
                    <li class="text-center">
                        <text><span class="iconify" data-icon="bx:bxs-user-circle" data-inline="false"
                                style="color:black" data-width="30px" data-height="30px"></span>
                            นางสาวแอดมิน สมหญิง</text>
                    </li>
                </div>
                <li><a href="#" class="active">คำขอเบิกวัสดุ</a></li>
                <li><a href="#">รายการวัสดุ</a></li>
                <li><a href="#">สถิติการเบิก</a></li>
                <li><a href="history.html">ประวัติการเบิก</a></li>
                <li><a href="../view/Login.html">ออกจากระบบ <span class="iconify" data-icon="ls:logout"
                            data-inline="false"></span> </a></li>
            </ul>
        </div>

    </div>

    <!--Main-->

    <div class="page-content p-5 mt-5" id="content">
        <div class="container-fluid">
            <div class="row">
                <div class="float-left">
                    <a href="../view/adminmain.html">
                        <span class="iconify" data-icon="eva:arrow-back-outline" data-inline="false" data-width="50px"
                            data-height="50px"></span>
                    </a>
                    <form id='formid' action="upload" method="POST" enctype="multipart/form-data">
                    </form>
                </div>
                <div class="col-11">
                    <h2>รายละเอียดเพิ่มเติม</h2>
                    <hr class="col-8" size="2" class="ml-0">
                </div>
            </div>
            <!--Detail text-->
            <!--Detail text-->
            <div id="detail">
                <div class="float-left">
                    <p>เลขที่ใบเบิก : 6405001</p>
                    <p>หมายเหตุ : ต้องการวัสดุทุกอย่างที่เบิกด่วนที่สุด</p>
                    <p>ชื่อผู้เบิก : นายบันเทิง สุดสุด</p>
                    <p>วันที่ : 17/05/2564 เวลา : 15:30 น</p>
                </div> 
                <div class="all">
                    <span class="iconify" data-icon="carbon:collapse-all" data-inline="false" style="color: #7BB18B;" data-width="100px" data-height="100px"></span>
                    <p>ทั้งหมด<span class="iconify" data-icon="mdi:numeric-5-circle" data-inline="false" style="color: #C4C4C4;" data-width="30px" data-height="30px"></span></p>
                </div>
            </div>
            <br>
            <table id="materialTable" class="table table-striped table-bordered" style="width:100%">
            </table>
            <br>
            <!--Botton-->
            <div class="float-right">
                <button class="btn btn-success" id="approve">อนุมัติ</button>
                <button class="btn btn-secondary" id="modify" data-toggle="modal" data-target="#modifymodal">แก้ไขจำนวนจ่าย</button>
                <button class="btn btn-warning" id="disapprove" data-toggle="modal" data-target="#disapprovemodal">ไม่อนุมัติ</button>
            </div>
        </div>
    </div>

    <!-- Modal modify -->
    <div class="modal fade" id="modifymodal" tabindex="-1" role="dialog" aria-labelledby="modifyModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">แก้ไขจำนวนจ่าย</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>ซองจดหมายขาว ขนาด DL <input type="number" class="float-right"></input></p>
                    <p>ปากกาไวท์บอร์ด สีแดง <input type="number" class="float-right"></input></p>
                    <p>ลวดเสียบกระดาษ (Paper Clip) <input type="number" class="float-right"></input></p>
                    <p>ไม้บรรทัดเหล็ก 1 ฟุต <input type="number" class="float-right"></input></p>
                    <p>ตรายาง - วันที่ตัวเลข <input type="number" class="float-right"></input></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success"id="modifysave">ยืนยัน</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">ยกเลิก</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal disapprove -->
    <div class="modal fade" id="disapprovemodal" tabindex="-1" role="dialog" aria-labelledby="disapproveModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">สาเหตุ :</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <textarea name="reason" id="" cols="50" rows="20" placeholder="เหตุผลที่ไม่อนุมัติ"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success"id="disapproveysave">ยืนยัน</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">ยกเลิก</button>
                </div>
            </div>
        </div>
    </div>


</body>

</html>